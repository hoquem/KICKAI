{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS",
    "buildCommand": "pip install -r requirements.txt -r requirements-local.txt --no-deps",
    "buildTimeout": 180,
    "watchPatterns": [
      "src/**/*",
      "requirements*.txt",
      "railway-testing.json"
    ]
  },
  "deploy": {
    "startCommand": "python src/main.py",
    "healthcheckPath": "/health",
    "healthcheckTimeout": 120,
    "restartPolicyType": "ALWAYS",
    "restartPolicyMaxRetries": 2,
    "deploymentTimeout": 300
  },
  "variables": {
    "ENVIRONMENT": "testing",
    "LOG_LEVEL": "DEBUG",
    "TELEGRAM_BOT_TOKEN": "${TELEGRAM_BOT_TOKEN_TESTING}",
    "FIREBASE_CREDENTIALS": "${FIREBASE_CREDENTIALS_TESTING}",
    "GOOGLE_AI_API_KEY": "${GOOGLE_AI_API_KEY_TESTING}",
    "RAILWAY_ENVIRONMENT": "testing",
    "PYTHONPATH": "src",
    "PYTHONUNBUFFERED": "1",
    "PYTHONDONTWRITEBYTECODE": "1",
    "DEBUG": "true",
    "TESTING": "true",
    "FAST_RELOAD": "true"
  },
  "healthcheck": {
    "path": "/health",
    "interval": 120,
    "timeout": 20,
    "retries": 2,
    "gracePeriod": 15
  },
  "scaling": {
    "minInstances": 1,
    "maxInstances": 2,
    "targetCPUUtilization": 90,
    "targetMemoryUtilization": 90,
    "cooldownPeriod": 60
  },
  "resources": {
    "cpu": "0.25",
    "memory": "256Mi",
    "disk": "512Mi"
  },
  "monitoring": {
    "metrics": {
      "enabled": true,
      "interval": 120,
      "retention": "3d"
    },
    "logs": {
      "enabled": true,
      "retention": "3d",
      "level": "DEBUG"
    },
    "alerts": {
      "enabled": false
    }
  },
  "networking": {
    "ports": [8000],
    "protocol": "http",
    "cors": {
      "enabled": true,
      "origins": ["*"]
    }
  },
  "domains": [
    "kickai-testing.railway.app"
  ]
} 