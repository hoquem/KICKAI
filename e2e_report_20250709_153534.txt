2025-07-09 15:35:34,155 - __main__ - INFO - ğŸ§ª KICKAI E2E Test Runner
2025-07-09 15:35:34,156 - __main__ - INFO - ğŸ“‹ Available suites: chat_id_validation, player_registration, match_management, payment_processing, natural_language, admin_operations, status, error_handling, comprehensive, smoke
2025-07-09 15:35:34,156 - __main__ - INFO - ğŸš€ Starting test suite: player_registration
2025-07-09 15:35:34,156 - __main__ - INFO - ğŸ” Validating environment configuration...
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… TELEGRAM_BOT_TOKEN: 76933590...NYsM
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… TELEGRAM_API_ID: 23493061
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… TELEGRAM_API_HASH: bd2e45dd...e6a5
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… ADMIN_SESSION_STRING: 1BJWap1s...vvY=
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… TELEGRAM_MAIN_CHAT_ID: -4889304885
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… TELEGRAM_LEADERSHIP_CHAT_ID: -4814449926
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… DEFAULT_TEAM_ID: KAI
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… FIREBASE_PROJECT_ID: kickai-954c2
2025-07-09 15:35:34,156 - __main__ - INFO - âœ… Environment validation passed
2025-07-09 15:35:34,156 - __main__ - INFO - ğŸ“± Chat Configuration:
2025-07-09 15:35:34,156 - __main__ - INFO -    Main Chat ID: -4889304885 (KickAI Testing)
2025-07-09 15:35:34,156 - __main__ - INFO -    Leadership Chat ID: -4814449926 (KickAI Testing - Leadership)
2025-07-09 15:35:34,156 - __main__ - INFO -    Naming Convention: 'Team Name' for main, 'Team Name - Leadership' for leadership
2025-07-09 15:35:34,156 - src.core.improved_config_system - INFO - E2E testing detected, loading .env.test
2025-07-09 15:35:34,157 - src.core.improved_config_system - INFO - Loaded environment variables from .env.test
2025-07-09 15:35:34,157 - src.core.improved_config_system - INFO - ğŸ” EnvironmentConfigurationSource.load_configuration called
2025-07-09 15:35:34,158 - src.core.improved_config_system - INFO - Loaded configuration from EnvironmentConfigurationSource
2025-07-09 15:35:34,158 - src.core.improved_config_system - INFO - Loaded configuration from DefaultConfigurationSource
2025-07-09 15:35:34,158 - src.core.improved_config_system - INFO - ğŸ” Merged configuration AI section: {'provider': <AIProvider.GOOGLE_GEMINI: 'google_gemini'>, 'api_key': 'AIzaSyDymYVYObT-j8Fu8_0xAXUflXzzkC1Ey5s', 'model_name': 'gemini-1.5-flash', 'temperature': 0.7, 'max_tokens': 1000, 'timeout_seconds': 60, 'base_url': None, 'max_retries': 3, 'source': <ConfigSource.ENVIRONMENT: 'environment'>}
2025-07-09 15:35:34,158 - src.core.improved_config_system - INFO - Configuration validation passed
2025-07-09 15:35:34,158 - __main__ - INFO - ğŸ“‹ Team ID: KAI
2025-07-09 15:35:34,158 - __main__ - INFO - ğŸ”§ Initializing test components...
2025-07-09 15:35:34,159 - src.testing.e2e_framework - INFO - âœ… TelegramBotTester initialized
2025-07-09 15:35:34,220 - src.testing.e2e_framework - INFO - âœ… FirestoreValidator initialized for project kickai-954c2
2025-07-09 15:35:34,220 - __main__ - INFO - ğŸ“± Starting Telegram tester...
2025-07-09 15:35:34,220 - telethon.network.mtprotosender - INFO - Connecting to 149.154.167.91:443/TcpFull...
2025-07-09 15:35:34,252 - telethon.network.mtprotosender - INFO - Connection to 149.154.167.91:443/TcpFull complete!
2025-07-09 15:35:34,554 - src.testing.e2e_framework - INFO - âœ… Telegram client started
2025-07-09 15:35:34,554 - __main__ - INFO - âœ… Telegram tester started successfully
2025-07-09 15:35:34,554 - src.testing.e2e_framework - INFO - âœ… E2ETestRunner initialized
2025-07-09 15:35:34,555 - src.utils.id_generator - INFO - Generated player ID 'JS' for 'John Smith'
2025-07-09 15:35:34,555 - src.utils.id_generator - INFO - Generated player ID 'JS1' for 'John Smith'
2025-07-09 15:35:34,555 - src.utils.id_generator - INFO - Generated player ID 'JS2' for 'John Smith'
2025-07-09 15:35:34,555 - src.utils.id_generator - INFO - Generated player ID 'JS3' for 'John Smith'
2025-07-09 15:35:34,555 - __main__ - INFO - ğŸ“‹ Loaded 6 tests for suite 'player_registration'
2025-07-09 15:35:34,555 - __main__ - INFO -    1. Admin Adds Player
2025-07-09 15:35:34,555 - __main__ - INFO -    2. Player Completes Registration
2025-07-09 15:35:34,555 - __main__ - INFO -    3. Query Registration Status
2025-07-09 15:35:34,555 - __main__ - INFO -    4. Admin Approves Player
2025-07-09 15:35:34,555 - __main__ - INFO -    5. Status Command End-to-End
2025-07-09 15:35:34,555 - __main__ - INFO -    6. Status Command Admin End-to-End
2025-07-09 15:35:34,555 - __main__ - INFO - ğŸ§ª Running tests...
2025-07-09 15:35:34,555 - src.testing.e2e_framework - INFO - ğŸš€ Starting E2E test suite with 6 tests
2025-07-09 15:35:34,555 - src.testing.e2e_framework - INFO - ğŸ“‹ Running test 1/6: command
2025-07-09 15:35:34,555 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Starting command test: /add John Smith 07871521581
2025-07-09 15:35:34,555 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Context: user_id=admin_user_456, chat_id=-4814449926
2025-07-09 15:35:34,603 - src.testing.e2e_framework - INFO - âœ… Message sent: /add John Smith 07871521581...
2025-07-09 15:35:34,652 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Command: /add John Smith 07871521581
2025-07-09 15:35:34,652 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response received: /add John Smith 07871521581
2025-07-09 15:35:34,652 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response length: 27 characters
2025-07-09 15:35:34,652 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response timestamp: 2025-07-09 14:35:34+00:00
2025-07-09 15:35:34,652 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Test result: âœ… PASS
2025-07-09 15:35:34,652 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Duration: 0.10s
2025-07-09 15:35:34,652 - src.testing.e2e_framework - INFO - ğŸ—„ï¸ [E2E] Running Firestore validation for command: /add John Smith 07871521581
2025-07-09 15:35:34,879 - src.testing.e2e_framework - INFO - âœ… PASS Test 1: Command: /add John Smith 07871521581 (0.32s)
2025-07-09 15:35:34,880 - src.testing.e2e_framework - INFO - ğŸ“‹ Running test 2/6: command
2025-07-09 15:35:34,880 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Starting command test: /register JS
2025-07-09 15:35:34,880 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Context: user_id=test_user_123, chat_id=-4889304885
2025-07-09 15:35:34,935 - src.testing.e2e_framework - INFO - âœ… Message sent: /register JS...
2025-07-09 15:35:34,981 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Command: /register JS
2025-07-09 15:35:34,981 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response received: /register JS
2025-07-09 15:35:34,981 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response length: 12 characters
2025-07-09 15:35:34,981 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response timestamp: 2025-07-09 14:35:34+00:00
2025-07-09 15:35:34,981 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Test result: âœ… PASS
2025-07-09 15:35:34,981 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Duration: 0.10s
2025-07-09 15:35:34,981 - src.testing.e2e_framework - INFO - ğŸ—„ï¸ [E2E] Running Firestore validation for command: /register JS
2025-07-09 15:35:35,022 - src.testing.e2e_framework - INFO - âœ… PASS Test 2: Command: /register JS (0.14s)
2025-07-09 15:35:35,022 - src.testing.e2e_framework - INFO - ğŸ“‹ Running test 3/6: natural_language
2025-07-09 15:35:35,072 - src.testing.e2e_framework - INFO - âœ… Message sent: What's my registration status?...
2025-07-09 15:35:35,120 - src.testing.e2e_framework - INFO - âœ… PASS Test 3: NL: What's my registration status? (0.10s)
2025-07-09 15:35:35,120 - src.testing.e2e_framework - INFO - ğŸ“‹ Running test 4/6: command
2025-07-09 15:35:35,120 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Starting command test: /approve JS
2025-07-09 15:35:35,120 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Context: user_id=admin_user_456, chat_id=-4814449926
2025-07-09 15:35:35,171 - src.testing.e2e_framework - INFO - âœ… Message sent: /approve JS...
2025-07-09 15:35:35,214 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Command: /approve JS
2025-07-09 15:35:35,214 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response received: /approve JS
2025-07-09 15:35:35,214 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response length: 11 characters
2025-07-09 15:35:35,214 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response timestamp: 2025-07-09 14:35:35+00:00
2025-07-09 15:35:35,214 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Test result: âœ… PASS
2025-07-09 15:35:35,214 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Duration: 0.09s
2025-07-09 15:35:35,214 - src.testing.e2e_framework - INFO - ğŸ—„ï¸ [E2E] Running Firestore validation for command: /approve JS
2025-07-09 15:35:35,250 - src.testing.e2e_framework - INFO - âŒ FAIL Test 4: Command: /approve JS (0.13s)
2025-07-09 15:35:35,250 - src.testing.e2e_framework - INFO - ğŸ“‹ Running test 5/6: command
2025-07-09 15:35:35,250 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Starting command test: /status
2025-07-09 15:35:35,250 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Context: user_id=test_player_001, chat_id=-4889304885
2025-07-09 15:35:35,298 - src.testing.e2e_framework - INFO - âœ… Message sent: /status...
2025-07-09 15:35:35,354 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Command: /status
2025-07-09 15:35:35,354 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response received: /status
2025-07-09 15:35:35,354 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response length: 7 characters
2025-07-09 15:35:35,354 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response timestamp: 2025-07-09 14:35:35+00:00
2025-07-09 15:35:35,354 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Test result: âœ… PASS
2025-07-09 15:35:35,355 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Duration: 0.10s
2025-07-09 15:35:35,355 - src.testing.e2e_framework - INFO - ğŸ—„ï¸ [E2E] Running Firestore validation for command: /status
2025-07-09 15:35:35,399 - src.testing.e2e_framework - INFO - âœ… PASS Test 5: Command: /status (0.15s)
2025-07-09 15:35:35,399 - src.testing.e2e_framework - INFO - ğŸ“‹ Running test 6/6: command
2025-07-09 15:35:35,399 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Starting command test: /status +447871521581
2025-07-09 15:35:35,399 - src.testing.e2e_framework - INFO - ğŸš€ [E2E] Context: user_id=admin_user_456, chat_id=-4814449926
2025-07-09 15:35:35,467 - src.testing.e2e_framework - INFO - âœ… Message sent: /status +447871521581...
2025-07-09 15:35:35,522 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Command: /status +447871521581
2025-07-09 15:35:35,523 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response received: /status +447871521581
2025-07-09 15:35:35,523 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response length: 21 characters
2025-07-09 15:35:35,523 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Response timestamp: 2025-07-09 14:35:35+00:00
2025-07-09 15:35:35,523 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Test result: âœ… PASS
2025-07-09 15:35:35,523 - src.testing.e2e_framework - INFO - ğŸ“¨ [E2E] Duration: 0.12s
2025-07-09 15:35:35,523 - src.testing.e2e_framework - INFO - ğŸ—„ï¸ [E2E] Running Firestore validation for command: /status +447871521581
2025-07-09 15:35:35,562 - src.testing.e2e_framework - INFO - âœ… PASS Test 6: Command: /status +447871521581 (0.16s)
2025-07-09 15:35:35,563 - src.testing.e2e_framework - INFO - ğŸ Test suite completed. 5/6 tests passed
2025-07-09 15:35:35,563 - __main__ - INFO - 

ğŸ§ª KICKAI E2E Test Report
==================================================

ğŸ“Š Summary:
â€¢ Total Tests: 6
â€¢ Passed: 5 (83.3%)
â€¢ Failed: 1 (16.7%)
â€¢ Average Duration: 0.17s

ğŸ“‹ Test Types:
â€¢ Command: 5
â€¢ Natural_Language: 1

â±ï¸ Performance:
â€¢ Total Duration: 1.00s
â€¢ Fastest Test: 0.10s
â€¢ Slowest Test: 0.32s

âŒ Failed Tests:
â€¢ Command: /approve JS

2025-07-09 15:35:35,564 - __main__ - INFO - ğŸ“„ Detailed report saved to: e2e_report_player_registration_20250709_153535.html
2025-07-09 15:35:35,564 - __main__ - ERROR - âŒ 1 tests failed
2025-07-09 15:35:35,564 - __main__ - INFO - ğŸ§¹ Cleaning up...
2025-07-09 15:35:35,564 - telethon.network.mtprotosender - INFO - Disconnecting from 149.154.167.91:443/TcpFull...
2025-07-09 15:35:35,564 - telethon.network.mtprotosender - INFO - Disconnection from 149.154.167.91:443/TcpFull complete!
2025-07-09 15:35:35,565 - src.testing.e2e_framework - INFO - âœ… Telegram client stopped
2025-07-09 15:35:35,565 - __main__ - INFO - âœ… Cleanup completed
